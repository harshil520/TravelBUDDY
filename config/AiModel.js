const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 10000,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,

    history: [
        {
            role: "user",
            parts: [
                { text: "generate travel plan for location : from Surat to Delhi for 3 days and 2 nights for Couple with a Moderate budget. Provide minimum 4 Hotels options list with HotelName, Hotel address, price, hotel google search url, hotel images url google search links, rating, descriptions and places to visit nearby with placeName, Place Details, Place image Url, ticket pricing, time to travel each of the location for 3 days and 2 nights with each day plan with best time to visit. also give the weather condition of Delhi with openweather icon link from 23/07/2024 to 25/07/2024 all dates for better trip experience. give response in json format." },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Surat to Delhi\",\n    \"duration\": \"3 days and 2 nights\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Moderate\",\n    \"transport\": {\n      \"mode\": \"Flight\",\n      \"details\": \"Consider booking a direct flight from Surat to Delhi for convenience and time saving. Explore options with budget airlines like IndiGo or SpiceJet for affordable fares.\"\n    },\n    \"hotels\": [\n      {\n        \"name\": \"The Metropolitan Hotel & Spa\",\n        \"address\": \"14, Ashoka Rd, Connaught Place, New Delhi, Delhi 110001\",\n        \"price\": \"₹6,000 - ₹10,000 per night\",\n        \"googleSearchUrl\": \"https://www.google.com/search?q=The+Metropolitan+Hotel+%26+Spa+New+Delhi\",\n        \"imagesUrl\": \"https://www.google.com/search?q=The+Metropolitan+Hotel+%26+Spa+New+Delhi+images\",\n        \"rating\": \"4.2\",\n        \"description\": \"Modern hotel with stylish rooms, a rooftop pool, a spa, and multiple dining options. Offers a central location in Connaught Place.\"\n      },\n      {\n        \"name\": \"The Lodhi\",\n        \"address\": \"Lodhi Road, New Delhi, Delhi 110003\",\n        \"price\": \"₹8,000 - ₹14,000 per night\",\n        \"googleSearchUrl\": \"https://www.google.com/search?q=The+Lodhi+New+Delhi\",\n        \"imagesUrl\": \"https://www.google.com/search?q=The+Lodhi+New+Delhi+images\",\n        \"rating\": \"4.5\",\n        \"description\": \"Luxury hotel with spacious rooms, multiple dining options, a spa, and a beautiful garden. Offers a tranquil setting away from the city's hustle.\"\n      },\n      {\n        \"name\": \"The Claridges, New Delhi\",\n        \"address\": \"12, Dr. APJ Abdul Kalam Rd, New Delhi, Delhi 110011\",\n        \"price\": \"₹7,000 - ₹12,000 per night\",\n        \"googleSearchUrl\": \"https://www.google.com/search?q=The+Claridges+New+Delhi\",\n        \"imagesUrl\": \"https://www.google.com/search?q=The+Claridges+New+Delhi+images\",\n        \"rating\": \"4.3\",\n        \"description\": \"Elegant hotel with classic rooms, multiple dining options, a spa, and a rooftop pool. Offers a sophisticated experience in a prime location.\"\n      },\n      {\n        \"name\": \"The Roseate New Delhi\",\n        \"address\": \"S-1, Diplomatic Enclave, New Delhi, Delhi 110003\",\n        \"price\": \"₹9,000 - ₹16,000 per night\",\n        \"googleSearchUrl\": \"https://www.google.com/search?q=The+Roseate+New+Delhi\",\n        \"imagesUrl\": \"https://www.google.com/search?q=The+Roseate+New+Delhi+images\",\n        \"rating\": \"4.7\",\n        \"description\": \"Contemporary hotel with stylish rooms, multiple dining options, a spa, and a rooftop pool. Offers a modern and luxurious experience in a convenient location.\"\n      }\n    ],\n    \"nearbyPlaces\": [\n      {\n        \"placeName\": \"Red Fort\",\n        \"placeDetails\": \"Explore the historical Red Fort, a UNESCO World Heritage Site, and witness the grandeur of Mughal architecture.\",\n        \"placeImageUrl\": \"https://www.google.com/search?q=Red+Fort+Delhi+images\",\n        \"ticketPrice\": \"₹10 per person\",\n        \"travelTime\": \"30 minutes from Connaught Place\"\n      },\n      {\n        \"placeName\": \"Jama Masjid\",\n        \"placeDetails\": \"Visit the largest mosque in India, Jama Masjid, and experience its intricate architecture and peaceful atmosphere.\",\n        \"placeImageUrl\": \"https://www.google.com/search?q=Jama+Masjid+Delhi+images\",\n        \"ticketPrice\": \"Free Entry\",\n        \"travelTime\": \"20 minutes from Red Fort\"\n      },\n      {\n        \"placeName\": \"Humayun's Tomb\",\n        \"placeDetails\": \"Discover Humayun's Tomb, a magnificent Mughal-era mausoleum that inspired the Taj Mahal.\",\n        \"placeImageUrl\": \"https://www.google.com/search?q=Humayun's+Tomb+Delhi+images\",\n        \"ticketPrice\": \"₹30 per person\",\n        \"travelTime\": \"40 minutes from Connaught Place\"\n      },\n      {\n        \"placeName\": \"Lotus Temple\",\n        \"placeDetails\": \"Visit the iconic Lotus Temple, a stunning architectural marvel designed in the shape of a lotus flower.\",\n        \"placeImageUrl\": \"https://www.google.com/search?q=Lotus+Temple+Delhi+images\",\n        \"ticketPrice\": \"Free Entry\",\n        \"travelTime\": \"30 minutes from Humayun's Tomb\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1\",\n        \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n        \"place\": \"Red Fort\",\n        \"details\": \"Explore the historical Red Fort, a UNESCO World Heritage Site, and witness the grandeur of Mughal architecture. Witness the flag hoisting ceremony at the main gate (only on specific days).\",\n        \"bestTime\": \"Early morning to avoid the heat and crowds\",\n        \"notes\": \"Allow at least 2-3 hours for exploring the complex.\"\n      },\n      {\n        \"day\": \"Day 1\",\n        \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n        \"place\": \"Jama Masjid\",\n        \"details\": \"Visit the largest mosque in India, Jama Masjid, and experience its intricate architecture and peaceful atmosphere. Observe the daily prayers and soak in the vibrant cultural environment.\",\n        \"bestTime\": \"Late afternoon for cooler temperatures and more light\",\n        \"notes\": \"Dress respectfully with covered shoulders and knees.\"\n      },\n      {\n        \"day\": \"Day 1\",\n        \"time\": \"Evening (5:00 PM - 7:00 PM)\",\n        \"place\": \"Chandni Chowk\",\n        \"details\": \"Stroll through the bustling Chandni Chowk, a vibrant market known for its street food, traditional shops, and historic architecture. Indulge in local snacks and experience the chaotic charm of Delhi's oldest market.\",\n        \"bestTime\": \"Evening for a more lively atmosphere and cooler temperatures\",\n        \"notes\": \"Be prepared for crowds and a sensory overload.\"\n      },\n      {\n        \"day\": \"Day 2\",\n        \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n        \"place\": \"Humayun's Tomb\",\n        \"details\": \"Discover Humayun's Tomb, a magnificent Mughal-era mausoleum that inspired the Taj Mahal. Explore the gardens, admire the intricate architecture, and learn about the history of the Mughal dynasty.\",\n        \"bestTime\": \"Morning for cooler temperatures and better light for photography\",\n        \"notes\": \"Allow at least 2 hours to explore the complex and gardens.\"\n      },\n      {\n        \"day\": \"Day 2\",\n        \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n        \"place\": \"Lotus Temple\",\n        \"details\": \"Visit the iconic Lotus Temple, a stunning architectural marvel designed in the shape of a lotus flower. Experience its serene atmosphere and enjoy a peaceful moment of reflection.\",\n        \"bestTime\": \"Afternoon for a peaceful atmosphere and cooler temperatures\",\n        \"notes\": \"Respect the silence and dress modestly.\"\n      },\n      {\n        \"day\": \"Day 2\",\n        \"time\": \"Evening (5:00 PM - 7:00 PM)\",\n        \"place\": \"India Gate\",\n        \"details\": \"Take a stroll around India Gate, a war memorial dedicated to the Indian soldiers who died in World War I. Enjoy the scenic views, capture memorable photos, and experience the evening ambience.\",\n        \"bestTime\": \"Evening for a cool breeze and stunning lighting\",\n        \"notes\": \"Enjoy a picnic or street food while admiring the monument.\"\n      },\n      {\n        \"day\": \"Day 3\",\n        \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n        \"place\": \"Qutub Minar\",\n        \"details\": \"Explore the Qutub Minar, the tallest brick minaret in the world, and witness the impressive architecture of the Qutab Complex. Learn about the history of the Delhi Sultanate and admire the intricate carvings and inscriptions.\",\n        \"bestTime\": \"Early morning for a cooler start to the day\",\n        \"notes\": \"Allow 2-3 hours for exploring the complex.\"\n      },\n      {\n        \"day\": \"Day 3\",\n        \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n        \"place\": \"National Museum\",\n        \"details\": \"Discover the rich history and art of India at the National Museum. Explore the vast collection of artifacts, sculptures, paintings, and other exhibits showcasing different periods and cultures.\",\n        \"bestTime\": \"Afternoon for a more comfortable temperature and a quieter museum experience\",\n        \"notes\": \"Plan for at least 2-3 hours for exploring the museum.\"\n      },\n      {\n        \"day\": \"Day 3\",\n        \"time\": \"Evening (5:00 PM - 7:00 PM)\",\n        \"place\": \"Connaught Place\",\n        \"details\": \"Enjoy a relaxed evening at Connaught Place, a bustling commercial and entertainment hub. Explore the shops, cafes, and restaurants, and experience the vibrant nightlife of Delhi.\",\n        \"bestTime\": \"Evening for a lively atmosphere and a variety of dining options\",\n        \"notes\": \"Be prepared for crowds and a bustling atmosphere.\"\n      }\n    ],\n    \"weather\": [\n      {\n        \"date\": \"23/07/2024\",\n        \"description\": \"Partly cloudy\",\n        \"icon\": \"https://openweathermap.org/img/wn/02d@2x.png\",\n        \"temperature\": \"32°C\"\n      },\n      {\n        \"date\": \"24/07/2024\",\n        \"description\": \"Cloudy\",\n        \"icon\": \"https://openweathermap.org/img/wn/03d@2x.png\",\n        \"temperature\": \"31°C\"\n      },\n      {\n        \"date\": \"25/07/2024\",\n        \"description\": \"Partly cloudy\",\n        \"icon\": \"https://openweathermap.org/img/wn/02d@2x.png\",\n        \"temperature\": \"33°C\"\n      }\n    ]\n  }\n}\n```" },
            ],
        },
    ],
});